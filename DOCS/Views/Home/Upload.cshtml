@{
	ViewBag.Title = "Upload";
}
<div class="jumbotron" style="width:100%">
	<h2>Upload new XML documents here.</h2>
	<p>Upload the XML document autmatically generated by your application.</p>
	<p>If your application does not automatically generate the document, make sure to enable it in the properties of your project.</p>
</div>
<h2></h2>
@using (Html.BeginForm())
{
	@Html.AntiForgeryToken();
	<label>XML Files for upload:</label>
	<input type="file" multiple accept=".xml" name="file" />
	<button type="button" class="btn btn-primary" onclick="submitFiles(this)">Submit</button>
}
<script>
	function submitFiles(btn) {
		var form = btn.closest("form");
		var frm = new FormData(form);
		fetch(form.action, { body: frm, method: "POST", credentials: "include" }).then(response => {
			if (response.ok) {
				location = "@Url.Action("Index","Home")";
			}
		});
	}
	document.querySelector('input[type="file"]').dropZonify();
</script>